---
title: Pagine Razor con Entity Framework Core - ordinamento, filtro, Paging - 3 di 8
author: rick-anderson
description: "In questa esercitazione si aggiungeranno ordinamento, filtro e paging funzionalità alla pagina utilizzando ASP.NET Core e componenti di base di Entity Framework."
ms.author: riande
ms.date: 10/22/2017
ms.topic: get-started-article
ms.technology: aspnet
ms.prod: asp.net-core
uid: data/ef-rp/sort-filter-page
ms.openlocfilehash: 08f00e183dd8a8daa883d0b9ff15698b3a39f625
ms.sourcegitcommit: 3e303620a125325bb9abd4b2d315c106fb8c47fd
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/19/2018
---
# <a name="sorting-filtering-paging-and-grouping---ef-core-with-razor-pages-3-of-8"></a><span data-ttu-id="76c71-103">Ordinamento, filtro, paging e raggruppamento: EF Core con pagine Razor (3 di 8)</span><span class="sxs-lookup"><span data-stu-id="76c71-103">Sorting, filtering, paging, and grouping - EF Core with Razor Pages (3 of 8)</span></span>

<span data-ttu-id="76c71-104">Da [Tom Dykstra](https://github.com/tdykstra), [Rick Anderson](https://twitter.com/RickAndMSFT), e [Jon P Smith](https://twitter.com/thereformedprog)</span><span class="sxs-lookup"><span data-stu-id="76c71-104">By [Tom Dykstra](https://github.com/tdykstra), [Rick Anderson](https://twitter.com/RickAndMSFT), and [Jon P Smith](https://twitter.com/thereformedprog)</span></span>

[!INCLUDE[about the series](../../includes/RP-EF/intro.md)]

<span data-ttu-id="76c71-105">In questa esercitazione, ordinamento, filtro, raggruppamento e il paging, viene aggiunta la funzionalità.</span><span class="sxs-lookup"><span data-stu-id="76c71-105">In this tutorial, sorting, filtering, grouping, and paging, functionality is added.</span></span>

<span data-ttu-id="76c71-106">Nella figura seguente mostra una pagina completata.</span><span class="sxs-lookup"><span data-stu-id="76c71-106">The following illustration shows a completed page.</span></span> <span data-ttu-id="76c71-107">Le intestazioni di colonna sono collegamenti selezionabili per ordinare la colonna.</span><span class="sxs-lookup"><span data-stu-id="76c71-107">The column headings are clickable links to sort the column.</span></span> <span data-ttu-id="76c71-108">Fare clic su una colonna con intestazione ripetutamente passa tra crescente e decrescente.</span><span class="sxs-lookup"><span data-stu-id="76c71-108">Clicking a column heading repeatedly switches between ascending and descending sort order.</span></span>

![Pagina di indice di studenti](sort-filter-page/_static/paging.png)

<span data-ttu-id="76c71-110">Se si verificano problemi, è possibile risolvere, scaricare il [app completata per questa fase](https://github.com/aspnet/Docs/tree/master/aspnetcore/data/ef-rp/intro/samples/StageSnapShots/cu-part3-sorting).</span><span class="sxs-lookup"><span data-stu-id="76c71-110">If you run into problems you can't solve, download the [completed app for this stage](https://github.com/aspnet/Docs/tree/master/aspnetcore/data/ef-rp/intro/samples/StageSnapShots/cu-part3-sorting).</span></span>

## <a name="add-sorting-to-the-index-page"></a><span data-ttu-id="76c71-111">Aggiungere l'ordinamento alla pagina di indice</span><span class="sxs-lookup"><span data-stu-id="76c71-111">Add sorting to the Index page</span></span>

<span data-ttu-id="76c71-112">Aggiungere stringhe di *Students/Index.cshtml.cs* `PageModel` per contenere i parametri di ordinamento:</span><span class="sxs-lookup"><span data-stu-id="76c71-112">Add strings to the *Students/Index.cshtml.cs* `PageModel` to contain the sorting paramaters:</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet1&highlight=10-13)]


<span data-ttu-id="76c71-113">Aggiornamento di *Students/Index.cshtml.cs* `OnGetAsync` con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="76c71-113">Update the *Students/Index.cshtml.cs* `OnGetAsync` with the following code:</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet_SortOnly)]

<span data-ttu-id="76c71-114">Il codice precedente riceve un `sortOrder` parametro dalla stringa di query nell'URL.</span><span class="sxs-lookup"><span data-stu-id="76c71-114">The preceding code receives a `sortOrder` parameter from the query string in the URL.</span></span> <span data-ttu-id="76c71-115">L'URL (inclusa la stringa di query) viene generato dal [Helper di Tag di ancoraggio](xref:mvc/views/tag-helpers/builtin-th/anchor-tag-helper
)</span><span class="sxs-lookup"><span data-stu-id="76c71-115">The URL (including the query string) is generated by the [Anchor Tag Helper](xref:mvc/views/tag-helpers/builtin-th/anchor-tag-helper
)</span></span>

<span data-ttu-id="76c71-116">Il `sortOrder` parametro è "Name" o "Data".</span><span class="sxs-lookup"><span data-stu-id="76c71-116">The `sortOrder` parameter is either "Name" or "Date."</span></span> <span data-ttu-id="76c71-117">Il `sortOrder` parametro è facoltativamente seguito da "_desc" per specificare l'ordine decrescente.</span><span class="sxs-lookup"><span data-stu-id="76c71-117">The `sortOrder` parameter is optionally followed by "_desc" to specify descending order.</span></span> <span data-ttu-id="76c71-118">L'ordinamento predefinito è crescente.</span><span class="sxs-lookup"><span data-stu-id="76c71-118">The default sort order is ascending.</span></span>

<span data-ttu-id="76c71-119">Quando la pagina di indice viene richiesto dal **studenti** collegare, nessuna stringa di query.</span><span class="sxs-lookup"><span data-stu-id="76c71-119">When the Index page is requested from the **Students** link, there's no query string.</span></span> <span data-ttu-id="76c71-120">Gli studenti vengono visualizzati in ordine crescente in base al cognome.</span><span class="sxs-lookup"><span data-stu-id="76c71-120">The students are displayed in ascending order by last name.</span></span> <span data-ttu-id="76c71-121">Ordine crescente in base al cognome è il valore predefinito (istruzione case) nei `switch` istruzione.</span><span class="sxs-lookup"><span data-stu-id="76c71-121">Ascending order by last name is the default (fall-through case) in the `switch` statement.</span></span> <span data-ttu-id="76c71-122">Quando l'utente fa clic su un collegamento di intestazione di colonna, appropriato `sortOrder` valore viene fornito il valore di stringa di query.</span><span class="sxs-lookup"><span data-stu-id="76c71-122">When the user clicks a column heading link, the appropriate `sortOrder` value is provided in the query string value.</span></span>

<span data-ttu-id="76c71-123">`NameSort`e `DateSort` vengono utilizzati dalla pagina Razor per configurare i collegamenti ipertestuali sull'intestazione di colonna con i valori di stringa di query appropriata:</span><span class="sxs-lookup"><span data-stu-id="76c71-123">`NameSort` and `DateSort` are used by the Razor Page to configure the column heading hyperlinks with the appropriate query string values:</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet_SortOnly&highlight=3-4)]

<span data-ttu-id="76c71-124">Contiene il seguente codice c# [?: operatore](https://docs.microsoft.com/dotnet/csharp/language-reference/operators/conditional-operator):</span><span class="sxs-lookup"><span data-stu-id="76c71-124">The following code contains the C# [?: operator](https://docs.microsoft.com/dotnet/csharp/language-reference/operators/conditional-operator):</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet_Ternary)]

<span data-ttu-id="76c71-125">La prima riga specifica che quando `sortOrder` è null o vuoto, `NameSort` è impostata su "name_desc".</span><span class="sxs-lookup"><span data-stu-id="76c71-125">The first line specifies that when `sortOrder` is null or empty, `NameSort` is set to "name_desc."</span></span> <span data-ttu-id="76c71-126">Se `sortOrder` è **non** null o vuoto, `NameSort` è impostata su una stringa vuota.</span><span class="sxs-lookup"><span data-stu-id="76c71-126">If `sortOrder` is **not** null or empty, `NameSort` is set to an empty string.</span></span>

<span data-ttu-id="76c71-127">Il `?: operator` è noto anche come l'operatore ternario disponibile.</span><span class="sxs-lookup"><span data-stu-id="76c71-127">The `?: operator` is also known as the ternary operator.</span></span>

<span data-ttu-id="76c71-128">Le due istruzioni seguenti consentono la visualizzazione impostare la colonna collegamenti ipertestuali di intestazione come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="76c71-128">These two statements enable the view to set the column heading hyperlinks as follows:</span></span>

| <span data-ttu-id="76c71-129">Ordinamento corrente</span><span class="sxs-lookup"><span data-stu-id="76c71-129">Current sort order</span></span> | <span data-ttu-id="76c71-130">Collegamento ipertestuale cognome</span><span class="sxs-lookup"><span data-stu-id="76c71-130">Last Name Hyperlink</span></span> | <span data-ttu-id="76c71-131">Collegamento ipertestuale Data</span><span class="sxs-lookup"><span data-stu-id="76c71-131">Date Hyperlink</span></span> |
|:--------------------:|:-------------------:|:--------------:|
| <span data-ttu-id="76c71-132">Ultimo nome (crescente)</span><span class="sxs-lookup"><span data-stu-id="76c71-132">Last Name ascending</span></span> | <span data-ttu-id="76c71-133">descending</span><span class="sxs-lookup"><span data-stu-id="76c71-133">descending</span></span>        | <span data-ttu-id="76c71-134">ascending</span><span class="sxs-lookup"><span data-stu-id="76c71-134">ascending</span></span>      |
| <span data-ttu-id="76c71-135">Ultimo nome (decrescente)</span><span class="sxs-lookup"><span data-stu-id="76c71-135">Last Name descending</span></span> | <span data-ttu-id="76c71-136">ascending</span><span class="sxs-lookup"><span data-stu-id="76c71-136">ascending</span></span>           | <span data-ttu-id="76c71-137">ascending</span><span class="sxs-lookup"><span data-stu-id="76c71-137">ascending</span></span>      |
| <span data-ttu-id="76c71-138">Data ordine crescente</span><span class="sxs-lookup"><span data-stu-id="76c71-138">Date ascending</span></span>       | <span data-ttu-id="76c71-139">ascending</span><span class="sxs-lookup"><span data-stu-id="76c71-139">ascending</span></span>           | <span data-ttu-id="76c71-140">descending</span><span class="sxs-lookup"><span data-stu-id="76c71-140">descending</span></span>     |
| <span data-ttu-id="76c71-141">Data ordine decrescente</span><span class="sxs-lookup"><span data-stu-id="76c71-141">Date descending</span></span>      | <span data-ttu-id="76c71-142">ascending</span><span class="sxs-lookup"><span data-stu-id="76c71-142">ascending</span></span>           | <span data-ttu-id="76c71-143">ascending</span><span class="sxs-lookup"><span data-stu-id="76c71-143">ascending</span></span>      |

<span data-ttu-id="76c71-144">Il metodo Usa LINQ to Entities per specificare la colonna da ordinare.</span><span class="sxs-lookup"><span data-stu-id="76c71-144">The method uses LINQ to Entities to specify the column to sort by.</span></span> <span data-ttu-id="76c71-145">Il codice Inizializza un `IQueryable<Student> ` prima dell'istruzione switch e lo modifica nell'istruzione switch:</span><span class="sxs-lookup"><span data-stu-id="76c71-145">The code initializes an `IQueryable<Student> ` before the switch statement, and modifies it in the switch statement:</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet_SortOnly&highlight=6-)]

 <span data-ttu-id="76c71-146">Quando un`IQueryable` viene creata o modificata, non viene inviata alcuna query al database.</span><span class="sxs-lookup"><span data-stu-id="76c71-146">When an`IQueryable` is created or modified, no query is sent to the database.</span></span> <span data-ttu-id="76c71-147">La query non viene eseguita finché il `IQueryable` oggetto viene convertito in una raccolta.</span><span class="sxs-lookup"><span data-stu-id="76c71-147">The query is not executed until the `IQueryable` object is converted into a collection.</span></span> <span data-ttu-id="76c71-148">`IQueryable`vengono convertiti in una raccolta chiamando un metodo, ad esempio `ToListAsync`.</span><span class="sxs-lookup"><span data-stu-id="76c71-148">`IQueryable` are converted to a collection by calling a method such as `ToListAsync`.</span></span> <span data-ttu-id="76c71-149">Pertanto, il `IQueryable` codice risultati in una singola query che non viene eseguito fino a quando l'istruzione seguente:</span><span class="sxs-lookup"><span data-stu-id="76c71-149">Therefore, the `IQueryable` code results in a single query that is not executed until the following statement:</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet_SortOnlyRtn)]

<span data-ttu-id="76c71-150">`OnGetAsync`è stato possibile ottenere dettagliato con un numero elevato di colonne.</span><span class="sxs-lookup"><span data-stu-id="76c71-150">`OnGetAsync` could get verbose with a large number of columns.</span></span>

### <a name="add-column-heading-hyperlinks-to-the-student-index-view"></a><span data-ttu-id="76c71-151">Aggiungere collegamenti ipertestuali sull'intestazione di colonna per la visualizzazione dell'indice di Student</span><span class="sxs-lookup"><span data-stu-id="76c71-151">Add column heading hyperlinks to the Student Index view</span></span>

<span data-ttu-id="76c71-152">Sostituire il codice in *Students/Index.cshtml*, con il seguente codice evidenziato:</span><span class="sxs-lookup"><span data-stu-id="76c71-152">Replace the code in *Students/Index.cshtml*, with the following highlighted code:</span></span>

[!code-html[](intro/samples/cu/Pages/Students/Index2.cshtml?highlight=17-19,25-27)]

<span data-ttu-id="76c71-153">Il codice precedente:</span><span class="sxs-lookup"><span data-stu-id="76c71-153">The preceding code:</span></span>

* <span data-ttu-id="76c71-154">Aggiunti collegamenti ipertestuali per il `LastName` e `EnrollmentDate` le intestazioni di colonna.</span><span class="sxs-lookup"><span data-stu-id="76c71-154">Adds hyperlinks to the `LastName` and `EnrollmentDate` column headings.</span></span>
* <span data-ttu-id="76c71-155">Utilizza le informazioni contenute in `NameSort` e `DateSort` per impostare i collegamenti ipertestuali con i valori di ordinamento corrente.</span><span class="sxs-lookup"><span data-stu-id="76c71-155">Uses the information in `NameSort` and `DateSort` to set up hyperlinks with the current sort order values.</span></span>

<span data-ttu-id="76c71-156">Per verificare il funzionamento dell'ordinamento:</span><span class="sxs-lookup"><span data-stu-id="76c71-156">To verify that sorting works:</span></span>

* <span data-ttu-id="76c71-157">Eseguire l'app e selezionare il **studenti** scheda.</span><span class="sxs-lookup"><span data-stu-id="76c71-157">Run the app and select the **Students** tab.</span></span>
* <span data-ttu-id="76c71-158">Fare clic su **cognome**.</span><span class="sxs-lookup"><span data-stu-id="76c71-158">Click **Last Name**.</span></span>
* <span data-ttu-id="76c71-159">Fare clic su **data di registrazione**.</span><span class="sxs-lookup"><span data-stu-id="76c71-159">Click **Enrollment Date**.</span></span>

<span data-ttu-id="76c71-160">Per ottenere una migliore comprensione del codice:</span><span class="sxs-lookup"><span data-stu-id="76c71-160">To get a better understanding of the code:</span></span>

* <span data-ttu-id="76c71-161">In *Student/Index.cshtml.cs*, impostare un punto di interruzione `switch (sortOrder)`.</span><span class="sxs-lookup"><span data-stu-id="76c71-161">In *Student/Index.cshtml.cs*, set a breakpoint on `switch (sortOrder)`.</span></span>
* <span data-ttu-id="76c71-162">Aggiungere un'espressione di controllo per `NameSort` e `DateSort`.</span><span class="sxs-lookup"><span data-stu-id="76c71-162">Add a watch for `NameSort` and `DateSort`.</span></span>
* <span data-ttu-id="76c71-163">In *Student/Index.cshtml*, impostare un punto di interruzione `@Html.DisplayNameFor(model => model.Student[0].LastName)`.</span><span class="sxs-lookup"><span data-stu-id="76c71-163">In *Student/Index.cshtml*, set a breakpoint on `@Html.DisplayNameFor(model => model.Student[0].LastName)`.</span></span>

<span data-ttu-id="76c71-164">Eseguire il debugger.</span><span class="sxs-lookup"><span data-stu-id="76c71-164">Step through the debugger.</span></span>

## <a name="add-a-search-box-to-the-students-index-page"></a><span data-ttu-id="76c71-165">Aggiungere una casella di ricerca alla pagina di indice di studenti</span><span class="sxs-lookup"><span data-stu-id="76c71-165">Add a Search Box to the Students Index page</span></span>

<span data-ttu-id="76c71-166">Per aggiungere filtri alla pagina di indice di studenti:</span><span class="sxs-lookup"><span data-stu-id="76c71-166">To add filtering to the Students Index page:</span></span>

* <span data-ttu-id="76c71-167">Una casella di testo e un pulsante di invio viene aggiunto alla pagina Razor.</span><span class="sxs-lookup"><span data-stu-id="76c71-167">A text box and a submit button is added to the Razor Page.</span></span> <span data-ttu-id="76c71-168">La casella di testo fornisce una stringa di ricerca sul nome del primo o ultimo.</span><span class="sxs-lookup"><span data-stu-id="76c71-168">The text box supplies a search string on the first or last name.</span></span>
* <span data-ttu-id="76c71-169">Il file code-behind viene aggiornato per utilizzare il valore della casella di testo.</span><span class="sxs-lookup"><span data-stu-id="76c71-169">The code-behind file is updated to use the text box value.</span></span>

### <a name="add-filtering-functionality-to-the-index-method"></a><span data-ttu-id="76c71-170">Aggiungere funzionalità di filtro per il metodo di Index</span><span class="sxs-lookup"><span data-stu-id="76c71-170">Add filtering functionality to the Index method</span></span>

<span data-ttu-id="76c71-171">Aggiornamento di *Students/Index.cshtml.cs* `OnGetAsync` con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="76c71-171">Update the *Students/Index.cshtml.cs* `OnGetAsync` with the following code:</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet_SortFilter&highlight=1,5,9-13)]

<span data-ttu-id="76c71-172">Il codice precedente:</span><span class="sxs-lookup"><span data-stu-id="76c71-172">The preceding code:</span></span>

* <span data-ttu-id="76c71-173">Aggiunge il `searchString` parametro per il `OnGetAsync` metodo.</span><span class="sxs-lookup"><span data-stu-id="76c71-173">Adds the `searchString` parameter to the `OnGetAsync` method.</span></span> <span data-ttu-id="76c71-174">Il valore di stringa di ricerca viene ricevuto da una casella di testo che viene aggiunto nella sezione successiva.</span><span class="sxs-lookup"><span data-stu-id="76c71-174">The search string value is received from a text box that is added in the next section.</span></span>
* <span data-ttu-id="76c71-175">Aggiungere l'istruzione LINQ un `Where` clausola.</span><span class="sxs-lookup"><span data-stu-id="76c71-175">Added to the LINQ statement a `Where` clause.</span></span> <span data-ttu-id="76c71-176">Il `Where` clausola seleziona solo gli studenti il cui nome o cognome contengono la stringa di ricerca.</span><span class="sxs-lookup"><span data-stu-id="76c71-176">The `Where` clause selects only students whose first name or last name contains the search string.</span></span> <span data-ttu-id="76c71-177">L'istruzione LINQ viene eseguita solo se è presente un valore per la ricerca.</span><span class="sxs-lookup"><span data-stu-id="76c71-177">The LINQ statement is executed only if there's a value to search for.</span></span>

<span data-ttu-id="76c71-178">Nota: Il precedente codice chiama il `Where` metodo su un `IQueryable` oggetto e il filtro viene elaborato nel server.</span><span class="sxs-lookup"><span data-stu-id="76c71-178">Note: The preceding code calls the `Where` method on an `IQueryable` object, and the filter is processed on the server.</span></span> <span data-ttu-id="76c71-179">In alcuni scenari, potrebbe essere chiamata di app il `Where` metodo come metodo di estensione per una raccolta in memoria.</span><span class="sxs-lookup"><span data-stu-id="76c71-179">In some scenarios, tha app might be calling the `Where` method as an extension method on an in-memory collection.</span></span> <span data-ttu-id="76c71-180">Si supponga ad esempio `_context.Students` cambia da Entity Framework Core `DbSet` a un metodo di repository che restituisce un `IEnumerable` insieme.</span><span class="sxs-lookup"><span data-stu-id="76c71-180">For example, suppose `_context.Students` changes from EF Core `DbSet` to a repository method that returns an `IEnumerable` collection.</span></span> <span data-ttu-id="76c71-181">Il risultato sarebbe normalmente la stessa, ma in alcuni casi potrebbe essere diverso.</span><span class="sxs-lookup"><span data-stu-id="76c71-181">The result would normally be the same but in some cases may be different.</span></span>

<span data-ttu-id="76c71-182">Ad esempio, l'implementazione di .NET Framework di `Contains` esegue un confronto tra maiuscole e minuscole per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="76c71-182">For example, the .NET Framework implementation of `Contains` performs a case-sensitive comparison by default.</span></span> <span data-ttu-id="76c71-183">In SQL Server, `Contains` distinzione maiuscole/minuscole è determinato dall'impostazione delle regole di confronto dell'istanza di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="76c71-183">In SQL Server, `Contains` case-sensitivity is determined by the collation setting of the SQL Server instance.</span></span> <span data-ttu-id="76c71-184">SQL Server per impostazione predefinita a tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="76c71-184">SQL Serve defaults to case-insensitive.</span></span> <span data-ttu-id="76c71-185">`ToUpper`può essere chiamata per eseguire il test in modo esplicito tra maiuscole e minuscole:</span><span class="sxs-lookup"><span data-stu-id="76c71-185">`ToUpper` could be called to make the test explicitly case-insensitive:</span></span>

`Where(s => s.LastName.ToUpper().Contains(searchString.ToUpper())`

<span data-ttu-id="76c71-186">Il codice precedente di assicurarsi che i risultati sono distinzione tra maiuscole e se viene modificato il codice per l'utilizzo di `IEnumerable`.</span><span class="sxs-lookup"><span data-stu-id="76c71-186">The preceding code would ensure that results are case-insensitive if the code changes to use `IEnumerable`.</span></span> <span data-ttu-id="76c71-187">Quando `Contains` viene chiamato su un `IEnumerable` insieme, viene utilizzata l'implementazione di .NET Core.</span><span class="sxs-lookup"><span data-stu-id="76c71-187">When `Contains` is called on an `IEnumerable` collection, the .NET Core implementation is used.</span></span> <span data-ttu-id="76c71-188">Quando `Contains` viene chiamato su un `IQueryable` dell'oggetto, viene utilizzata l'implementazione di database.</span><span class="sxs-lookup"><span data-stu-id="76c71-188">When `Contains` is called on an `IQueryable` object, the database implementation is used.</span></span> <span data-ttu-id="76c71-189">Restituzione di un `IEnumerable` da un repository può avere un penality significativo delle prestazioni:</span><span class="sxs-lookup"><span data-stu-id="76c71-189">Returning an `IEnumerable` from a repository can have a significant performance penality:</span></span>

1. <span data-ttu-id="76c71-190">Tutte le righe vengono restituite dal server di database.</span><span class="sxs-lookup"><span data-stu-id="76c71-190">All the rows are returned from the DB server.</span></span>
1. <span data-ttu-id="76c71-191">Il filtro viene applicato a tutte le righe restituite nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="76c71-191">The filter is applied to all the returned rows in the application.</span></span>

<span data-ttu-id="76c71-192">Si verifica una riduzione delle prestazioni per chiamare `ToUpper`.</span><span class="sxs-lookup"><span data-stu-id="76c71-192">There is a performance penalty for calling `ToUpper`.</span></span> <span data-ttu-id="76c71-193">Il `ToUpper` codice aggiunge una funzione nella clausola WHERE dell'istruzione SELECT TSQL.</span><span class="sxs-lookup"><span data-stu-id="76c71-193">The `ToUpper` code adds a function in the WHERE clause of the TSQL SELECT statement.</span></span> <span data-ttu-id="76c71-194">La funzione aggiunta impedisce l'utilizzo di un indice query optimizer.</span><span class="sxs-lookup"><span data-stu-id="76c71-194">The added function prevents the optimizer from using an index.</span></span> <span data-ttu-id="76c71-195">Dato che SQL viene installato come tra maiuscole e minuscole, è consigliabile evitare di `ToUpper` chiamare quando non è necessaria.</span><span class="sxs-lookup"><span data-stu-id="76c71-195">Given that SQL is installed as case-insensitive, it's best to avoid the `ToUpper` call when it's not needed.</span></span>

### <a name="add-a-search-box-to-the-student-index-view"></a><span data-ttu-id="76c71-196">Aggiungere una casella di ricerca per la visualizzazione dell'indice per studenti</span><span class="sxs-lookup"><span data-stu-id="76c71-196">Add a Search Box to the Student Index View</span></span>

<span data-ttu-id="76c71-197">In *Views/Student/Index.cshtml*, aggiungere il codice evidenziato di seguito per creare un **ricerca** pulsante e chrome diversi.</span><span class="sxs-lookup"><span data-stu-id="76c71-197">In *Views/Student/Index.cshtml*, add the following highlighted code to create a **Search** button and assorted chrome.</span></span>

[!code-html[](intro/samples/cu/Pages/Students/Index3.cshtml?highlight=14-23&range=1-25)]

<span data-ttu-id="76c71-198">Il codice precedente utilizza il `<form>` [helper di tag](xref:mvc/views/tag-helpers/intro) per aggiungere la casella di testo di ricerca e un pulsante.</span><span class="sxs-lookup"><span data-stu-id="76c71-198">The preceding code uses the `<form>` [tag helper](xref:mvc/views/tag-helpers/intro) to add the search text box and button.</span></span> <span data-ttu-id="76c71-199">Per impostazione predefinita, il `<form>` helper di tag invia dati con un POST del form.</span><span class="sxs-lookup"><span data-stu-id="76c71-199">By default, the `<form>` tag helper submits form data with a POST.</span></span> <span data-ttu-id="76c71-200">Con POST, i parametri vengono passati nel corpo del messaggio HTTP e non nell'URL.</span><span class="sxs-lookup"><span data-stu-id="76c71-200">With POST, the parameters are passed in the HTTP message body and not in the URL.</span></span> <span data-ttu-id="76c71-201">Quando viene utilizzato HTTP GET, i dati del form viene passati nell'URL come stringhe di query.</span><span class="sxs-lookup"><span data-stu-id="76c71-201">When HTTP GET is used, the form data is passed in the URL as query strings.</span></span> <span data-ttu-id="76c71-202">Il passaggio di dati con le stringhe di query consente agli utenti di segnalibro l'URL.</span><span class="sxs-lookup"><span data-stu-id="76c71-202">Passing the data with query strings enables users to bookmark the URL.</span></span> <span data-ttu-id="76c71-203">Il [linee guida W3C](https://www.w3.org/2001/tag/doc/whenToUseGet.html) consiglia che GET deve essere utilizzato quando l'azione non comporta un aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="76c71-203">The [W3C guidelines](https://www.w3.org/2001/tag/doc/whenToUseGet.html) recommend that GET should be used when the action does not result in an update.</span></span>

<span data-ttu-id="76c71-204">Eseguire il test dell'app:</span><span class="sxs-lookup"><span data-stu-id="76c71-204">Test the app:</span></span>

* <span data-ttu-id="76c71-205">Selezionare il **studenti** scheda e immettere una stringa di ricerca.</span><span class="sxs-lookup"><span data-stu-id="76c71-205">Select the **Students** tab and enter a search string.</span></span>
* <span data-ttu-id="76c71-206">Selezionare **ricerca**.</span><span class="sxs-lookup"><span data-stu-id="76c71-206">Select **Search**.</span></span>

<span data-ttu-id="76c71-207">Si noti che l'URL contiene la stringa di ricerca.</span><span class="sxs-lookup"><span data-stu-id="76c71-207">Notice that the URL contains the search string.</span></span>

```html
http://localhost:5000/Students?SearchString=an
```

<span data-ttu-id="76c71-208">Se la pagina è contrassegnata, il segnalibro contiene l'URL alla pagina e `SearchString` stringa di query.</span><span class="sxs-lookup"><span data-stu-id="76c71-208">If the page is bookmarked, the bookmark contains the URL to the page and the `SearchString` query string.</span></span> <span data-ttu-id="76c71-209">Il `method="get"` nel `form` tag è ciò che ha determinato la stringa di query da generare.</span><span class="sxs-lookup"><span data-stu-id="76c71-209">The `method="get"` in the `form` tag is what caused the query string to be generated.</span></span>

<span data-ttu-id="76c71-210">Attualmente, quando si seleziona un collegamento di ordinamento di intestazione di colonna, il filtro valore il **ricerca** casella viene persa.</span><span class="sxs-lookup"><span data-stu-id="76c71-210">Currently, when a column heading sort link is selected, the filter value from the **Search** box is lost.</span></span> <span data-ttu-id="76c71-211">Il valore di filtro persi è stato risolto nella sezione successiva.</span><span class="sxs-lookup"><span data-stu-id="76c71-211">The lost filter value is fixed in the next section.</span></span>

## <a name="add-paging-functionality-to-the-students-index-page"></a><span data-ttu-id="76c71-212">Aggiungere funzionalità di paging alla pagina di indice di studenti</span><span class="sxs-lookup"><span data-stu-id="76c71-212">Add paging functionality to the Students Index page</span></span>

<span data-ttu-id="76c71-213">In questa sezione, un `PaginatedList` classe viene creata per supportare il paging.</span><span class="sxs-lookup"><span data-stu-id="76c71-213">In this section, a `PaginatedList` class is created to support paging.</span></span> <span data-ttu-id="76c71-214">Il `PaginatedList` utilizzato dalla classe `Skip` e `Take` istruzioni per filtrare i dati sul server invece di recuperare tutte le righe della tabella.</span><span class="sxs-lookup"><span data-stu-id="76c71-214">The `PaginatedList` class uses `Skip` and `Take` statements to filter data on the server instead of retrieving all rows of the table.</span></span> <span data-ttu-id="76c71-215">Nella figura seguente mostra i pulsanti di spostamento.</span><span class="sxs-lookup"><span data-stu-id="76c71-215">The following illustration shows the paging buttons.</span></span>

![Gli studenti indice pagina con collegamenti di spostamento](sort-filter-page/_static/paging.png)

<span data-ttu-id="76c71-217">Nella cartella del progetto, creare `PaginatedList.cs` con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="76c71-217">In the project folder, create `PaginatedList.cs` with the following code:</span></span>

[!code-csharp[Main](intro/samples/cu/PaginatedList.cs)]

<span data-ttu-id="76c71-218">Il `CreateAsync` metodo nel codice precedente ha dimensioni di pagina e il numero di pagina e applica appropriata `Skip` e `Take` istruzioni per la `IQueryable`.</span><span class="sxs-lookup"><span data-stu-id="76c71-218">The `CreateAsync` method in the preceding code takes page size and page number and applies the appropriate `Skip` and `Take` statements to the `IQueryable`.</span></span> <span data-ttu-id="76c71-219">Quando `ToListAsync` viene chiamato sul `IQueryable`, viene restituito un elenco contenente solo la pagina richiesta.</span><span class="sxs-lookup"><span data-stu-id="76c71-219">When `ToListAsync` is called on the `IQueryable`, it returns a List containing only the requested page.</span></span> <span data-ttu-id="76c71-220">Le proprietà `HasPreviousPage` e `HasNextPage` vengono utilizzati per abilitare o disabilitare **precedente** e **Avanti** pulsanti di spostamento.</span><span class="sxs-lookup"><span data-stu-id="76c71-220">The properties `HasPreviousPage` and `HasNextPage` are used to enable or disable **Previous** and **Next** paging buttons.</span></span>

<span data-ttu-id="76c71-221">Il `CreateAsync` metodo viene utilizzato per creare il `PaginatedList<T>`.</span><span class="sxs-lookup"><span data-stu-id="76c71-221">The `CreateAsync` method is used to create the `PaginatedList<T>`.</span></span> <span data-ttu-id="76c71-222">Non è possibile creare un costruttore di `PaginatedList<T>` dell'oggetto, i costruttori non possono eseguire codice asincrono.</span><span class="sxs-lookup"><span data-stu-id="76c71-222">A constructor can't create the `PaginatedList<T>` object, constructors can't run asynchronous code.</span></span>

## <a name="add-paging-functionality-to-the-index-method"></a><span data-ttu-id="76c71-223">Aggiungere funzionalità di paging per il metodo di Index</span><span class="sxs-lookup"><span data-stu-id="76c71-223">Add paging functionality to the Index method</span></span>

<span data-ttu-id="76c71-224">In *Students/Index.cshtml.cs*, aggiornare il tipo di `Student` da `IList<Student>` a `PaginatedList<Student>`:</span><span class="sxs-lookup"><span data-stu-id="76c71-224">In *Students/Index.cshtml.cs*, update the type of `Student` from `IList<Student>` to `PaginatedList<Student>`:</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet_SortFilterPageType)]

<span data-ttu-id="76c71-225">Aggiornamento di *Students/Index.cshtml.cs* `OnGetAsync` con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="76c71-225">Update the *Students/Index.cshtml.cs* `OnGetAsync` with the following code:</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet_SortFilterPage&highlight=1-4,7-14,41-)]

<span data-ttu-id="76c71-226">Il codice precedente aggiunge l'indice della pagina, corrente `sortOrder`e `currentFilter` alla firma del metodo.</span><span class="sxs-lookup"><span data-stu-id="76c71-226">The preceding code adds the page index, the current `sortOrder`, and the `currentFilter` to the method signature.</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet_SortFilterPage2)]

<span data-ttu-id="76c71-227">Tutti i parametri sono null quando:</span><span class="sxs-lookup"><span data-stu-id="76c71-227">All the parameters are null when:</span></span>

* <span data-ttu-id="76c71-228">La pagina viene chiamata dal **studenti** collegamento.</span><span class="sxs-lookup"><span data-stu-id="76c71-228">The page is called from the **Students** link.</span></span>
* <span data-ttu-id="76c71-229">L'utente non è stato selezionato un paging o ordinamento di collegamento.</span><span class="sxs-lookup"><span data-stu-id="76c71-229">The user hasn't clicked a paging or sorting link.</span></span>

<span data-ttu-id="76c71-230">Quando viene fatto clic su un collegamento di paging, la variabile di indice di pagina contiene il numero di pagina da visualizzare.</span><span class="sxs-lookup"><span data-stu-id="76c71-230">When a paging link is clicked, the page index variable contains the page number to display.</span></span>

<span data-ttu-id="76c71-231">`CurrentSort`fornisce la pagina Razor con il criterio di ordinamento corrente.</span><span class="sxs-lookup"><span data-stu-id="76c71-231">`CurrentSort` provides the Razor Page with the current sort order.</span></span> <span data-ttu-id="76c71-232">L'ordinamento corrente deve essere inclusi i collegamenti di spostamento per mantenere l'ordinamento durante il paging.</span><span class="sxs-lookup"><span data-stu-id="76c71-232">The current sort order must be included in the paging links to keep the sort order while paging.</span></span>

<span data-ttu-id="76c71-233">`CurrentFilter`fornisce la pagina Razor con la stringa di filtro corrente.</span><span class="sxs-lookup"><span data-stu-id="76c71-233">`CurrentFilter` provides the Razor Page with the current filter string.</span></span> <span data-ttu-id="76c71-234">Il `CurrentFilter` valore:</span><span class="sxs-lookup"><span data-stu-id="76c71-234">The `CurrentFilter` value:</span></span>

* <span data-ttu-id="76c71-235">Devono essere inclusi i collegamenti di spostamento per mantenere le impostazioni di filtro durante il paging.</span><span class="sxs-lookup"><span data-stu-id="76c71-235">Must be included in the paging links in order to maintain the filter settings during paging.</span></span>
* <span data-ttu-id="76c71-236">Devono essere ripristinati nella casella di testo quando viene nuovamente visualizzata la pagina.</span><span class="sxs-lookup"><span data-stu-id="76c71-236">Must be restored to the text box when the page is redisplayed.</span></span>

<span data-ttu-id="76c71-237">Se la stringa di ricerca viene modificata durante il paging, la pagina viene reimpostata su 1.</span><span class="sxs-lookup"><span data-stu-id="76c71-237">If the search string is changed while paging, the page is reset to 1.</span></span> <span data-ttu-id="76c71-238">La pagina deve essere reimpostato su 1, in quanto può comportare dati diversi per visualizzare il nuovo filtro.</span><span class="sxs-lookup"><span data-stu-id="76c71-238">The page has to be reset to 1 because the new filter can result in different data to display.</span></span> <span data-ttu-id="76c71-239">Quando viene immesso un valore di ricerca e **Invia** è selezionata:</span><span class="sxs-lookup"><span data-stu-id="76c71-239">When a search value is entered and **Submit** is selected:</span></span>

* <span data-ttu-id="76c71-240">La stringa di ricerca viene modificata.</span><span class="sxs-lookup"><span data-stu-id="76c71-240">The search string is changed.</span></span>
* <span data-ttu-id="76c71-241">Il `searchString` parametro non è null.</span><span class="sxs-lookup"><span data-stu-id="76c71-241">The `searchString` parameter is not null.</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet_SortFilterPage3)]

<span data-ttu-id="76c71-242">Il `PaginatedList.CreateAsync` metodo converte la query di studenti in una singola pagina degli studenti iscritti a un tipo di insieme che supporta il paging.</span><span class="sxs-lookup"><span data-stu-id="76c71-242">The `PaginatedList.CreateAsync` method converts the student query to a single page of students in a collection type that supports paging.</span></span> <span data-ttu-id="76c71-243">Pagina singola di studenti viene passato alla pagina Razor.</span><span class="sxs-lookup"><span data-stu-id="76c71-243">That single page of students is passed to the Razor Page.</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/Students/Index.cshtml.cs?name=snippet_SortFilterPage4)]

<span data-ttu-id="76c71-244">I due punti interrogativi in `PaginatedList.CreateAsync` rappresentano il [operatore null-coalescing](https://docs.microsoft.com/ dotnet/csharp/language-reference/operators/null-conditional-operator).</span><span class="sxs-lookup"><span data-stu-id="76c71-244">The two question marks in `PaginatedList.CreateAsync` represent the [null-coalescing operator](https://docs.microsoft.com/ dotnet/csharp/language-reference/operators/null-conditional-operator).</span></span> <span data-ttu-id="76c71-245">L'operatore null-coalescing definisce un valore predefinito per un tipo nullable.</span><span class="sxs-lookup"><span data-stu-id="76c71-245">The null-coalescing operator defines a default value for a nullable type.</span></span> <span data-ttu-id="76c71-246">L'espressione `(pageIndex ?? 1)` significa restituisca il valore di `pageIndex` se ha un valore.</span><span class="sxs-lookup"><span data-stu-id="76c71-246">The expression `(pageIndex ?? 1)` means return the value of `pageIndex` if it has a value.</span></span> <span data-ttu-id="76c71-247">Se `pageIndex` non hanno un valore, restituiscono 1.</span><span class="sxs-lookup"><span data-stu-id="76c71-247">If `pageIndex` doesn't have a value, return 1.</span></span>

## <a name="add-paging-links-to-the-student-razor-page"></a><span data-ttu-id="76c71-248">Aggiungere collegamenti di spostamento allo studente pagina Razor</span><span class="sxs-lookup"><span data-stu-id="76c71-248">Add paging links to the student Razor Page</span></span>

<span data-ttu-id="76c71-249">Aggiornare il markup in *Students/Index.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="76c71-249">Update the markup in *Students/Index.cshtml*.</span></span> <span data-ttu-id="76c71-250">Le modifiche vengono evidenziate:</span><span class="sxs-lookup"><span data-stu-id="76c71-250">The changes are highlighted:</span></span>

[!code-html[](intro/samples/cu/Pages/Students/Index.cshtml?highlight=28-31,37-40,68-)]

<span data-ttu-id="76c71-251">I collegamenti di intestazione di colonna utilizzano la stringa di query per passare la stringa di ricerca corrente per il `OnGetAsync` metodo in modo che l'utente può ordinare all'interno dei risultati di filtro:</span><span class="sxs-lookup"><span data-stu-id="76c71-251">The column header links use the query string to pass the current search string to the `OnGetAsync` method so that the user can sort within filter results:</span></span>

[!code-html[](intro/samples/cu/Pages/Students/Index.cshtml?range=28-31)]

<span data-ttu-id="76c71-252">Per gli helper di tag vengono visualizzati i pulsanti di paging:</span><span class="sxs-lookup"><span data-stu-id="76c71-252">The paging buttons are displayed by tag helpers:</span></span>

[!code-html[](intro/samples/cu/Pages/Students/Index.cshtml?range=72-)]

<span data-ttu-id="76c71-253">Eseguire l'app e passare alla pagina di studenti.</span><span class="sxs-lookup"><span data-stu-id="76c71-253">Run the app and navigate to the students page.</span></span>

* <span data-ttu-id="76c71-254">Per rendere che funziona di paging, fare clic sui collegamenti di spostamento in diversi tipi di ordinamento.</span><span class="sxs-lookup"><span data-stu-id="76c71-254">To make sure paging works, click the paging links in different sort orders.</span></span>
* <span data-ttu-id="76c71-255">Per verificare che il paging funziona correttamente con ordinamento e filtro, immettere una stringa di ricerca e provare il paging.</span><span class="sxs-lookup"><span data-stu-id="76c71-255">To verify that paging works correctly with sorting and filtering, enter a search string and try paging.</span></span>

![Gli studenti indice pagina con collegamenti di spostamento](sort-filter-page/_static/paging.png)

<span data-ttu-id="76c71-257">Per ottenere una migliore comprensione del codice:</span><span class="sxs-lookup"><span data-stu-id="76c71-257">To get a better understanding of the code:</span></span>

* <span data-ttu-id="76c71-258">In *Student/Index.cshtml.cs*, impostare un punto di interruzione `switch (sortOrder)`.</span><span class="sxs-lookup"><span data-stu-id="76c71-258">In *Student/Index.cshtml.cs*, set a breakpoint on `switch (sortOrder)`.</span></span>
* <span data-ttu-id="76c71-259">Aggiungere un'espressione di controllo per `NameSort`, `DateSort`, `CurrentSort`, e `Model.Student.PageIndex`.</span><span class="sxs-lookup"><span data-stu-id="76c71-259">Add a watch for `NameSort`, `DateSort`, `CurrentSort`, and `Model.Student.PageIndex`.</span></span>
* <span data-ttu-id="76c71-260">In *Student/Index.cshtml*, impostare un punto di interruzione `@Html.DisplayNameFor(model => model.Student[0].LastName)`.</span><span class="sxs-lookup"><span data-stu-id="76c71-260">In *Student/Index.cshtml*, set a breakpoint on `@Html.DisplayNameFor(model => model.Student[0].LastName)`.</span></span>

<span data-ttu-id="76c71-261">Eseguire il debugger.</span><span class="sxs-lookup"><span data-stu-id="76c71-261">Step through the debugger.</span></span>

## <a name="update-the-about-page-to-show-student-statistics"></a><span data-ttu-id="76c71-262">Aggiornare la pagina di informazioni su per visualizzare le statistiche di student</span><span class="sxs-lookup"><span data-stu-id="76c71-262">Update the About page to show student statistics</span></span>

<span data-ttu-id="76c71-263">In questo passaggio, *Pages/About.cshtml* viene aggiornato per visualizzare il numero di studenti sono registrati per ciascuna data di registrazione.</span><span class="sxs-lookup"><span data-stu-id="76c71-263">In this step, *Pages/About.cshtml* is updated to display how many students have enrolled for each enrollment date.</span></span> <span data-ttu-id="76c71-264">L'aggiornamento viene utilizzato il raggruppamento e include i passaggi seguenti:</span><span class="sxs-lookup"><span data-stu-id="76c71-264">The update uses grouping, and includes the following steps:</span></span>

* <span data-ttu-id="76c71-265">Creare una classe di modello di visualizzazione per i dati utilizzati dal **su** pagina.</span><span class="sxs-lookup"><span data-stu-id="76c71-265">Create a view model class for the data used by the **About** Page.</span></span>
* <span data-ttu-id="76c71-266">Modificare il file code-behind e sulla pagina Razor.</span><span class="sxs-lookup"><span data-stu-id="76c71-266">Modify the About Razor Page and code-behind file.</span></span>

### <a name="create-the-view-model"></a><span data-ttu-id="76c71-267">Creare il modello di visualizzazione</span><span class="sxs-lookup"><span data-stu-id="76c71-267">Create the view model</span></span>

<span data-ttu-id="76c71-268">Creare un *SchoolViewModels* cartella la *modelli* cartella.</span><span class="sxs-lookup"><span data-stu-id="76c71-268">Create a *SchoolViewModels* folder in the *Models* folder.</span></span>

<span data-ttu-id="76c71-269">Nel *SchoolViewModels* cartella, aggiungere un *EnrollmentDateGroup.cs* con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="76c71-269">In the *SchoolViewModels* folder, add a *EnrollmentDateGroup.cs* with the following code:</span></span>

[!code-csharp[Main](intro/samples/cu/Models/SchoolViewModels/EnrollmentDateGroup.cs)]

### <a name="update-the-about-code-behind-page"></a><span data-ttu-id="76c71-270">Aggiornare la pagina code-behind di informazioni su</span><span class="sxs-lookup"><span data-stu-id="76c71-270">Update the About code-behind page</span></span>

<span data-ttu-id="76c71-271">Aggiornamento di *Pages/About.cshtml.cs* file con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="76c71-271">Update the *Pages/About.cshtml.cs* file with the following code:</span></span>

[!code-csharp[Main](intro/samples/cu/Pages/About.cshtml.cs)]

<span data-ttu-id="76c71-272">Raggruppa le entità di studenti per data di registrazione dell'istruzione LINQ, calcola il numero di entità in ciascun gruppo e archivia i risultati in una raccolta di `EnrollmentDateGroup` consente di visualizzare gli oggetti del modello.</span><span class="sxs-lookup"><span data-stu-id="76c71-272">The LINQ statement groups the student entities by enrollment date, calculates the number of entities in each group, and stores the results in a collection of `EnrollmentDateGroup` view model objects.</span></span>

<span data-ttu-id="76c71-273">Nota: LINQ `group` comando attualmente non è supportato da Entity Framework Core.</span><span class="sxs-lookup"><span data-stu-id="76c71-273">Note: The LINQ `group` command isn't currently supported by EF Core.</span></span> <span data-ttu-id="76c71-274">Nel codice precedente, vengono restituiti tutti i record di studenti da SQL Server.</span><span class="sxs-lookup"><span data-stu-id="76c71-274">In the preceding code, all the student records are returned from SQL Server.</span></span> <span data-ttu-id="76c71-275">Il `group` comando viene applicato nell'app pagine Razor, non in SQL Server.</span><span class="sxs-lookup"><span data-stu-id="76c71-275">The `group` command is applied in the Razor Pages app, not on the SQL Server.</span></span> <span data-ttu-id="76c71-276">Core EF 2.1 supporterà questa LINQ `group` operatore e il raggruppamento si verifica in SQL Server.</span><span class="sxs-lookup"><span data-stu-id="76c71-276">EF Core 2.1 will support this LINQ `group` operator, and the grouping occurs on the SQL Server.</span></span> <span data-ttu-id="76c71-277">Vedere [relazionale: supporta la conversione di GroupBy per SQL](https://github.com/aspnet/EntityFrameworkCore/issues/2341).</span><span class="sxs-lookup"><span data-stu-id="76c71-277">See [Relational: Support translating GroupBy() to SQL](https://github.com/aspnet/EntityFrameworkCore/issues/2341).</span></span> <span data-ttu-id="76c71-278">[Core EF 2.1](https://github.com/aspnet/EntityFrameworkCore/wiki/roadmap) verrà rilasciata con .NET Core 2.1.</span><span class="sxs-lookup"><span data-stu-id="76c71-278">[EF Core 2.1](https://github.com/aspnet/EntityFrameworkCore/wiki/roadmap) will be released with .NET Core 2.1.</span></span> <span data-ttu-id="76c71-279">Per ulteriori informazioni, vedere il [Guida di orientamento per componenti di base .NET](https://github.com/dotnet/core/blob/master/roadmap.md).</span><span class="sxs-lookup"><span data-stu-id="76c71-279">For more information, see the [.NET Core Roadmap](https://github.com/dotnet/core/blob/master/roadmap.md).</span></span>

### <a name="modify-the-about-razor-page"></a><span data-ttu-id="76c71-280">Modificare le informazioni sulla pagina Razor</span><span class="sxs-lookup"><span data-stu-id="76c71-280">Modify the About Razor Page</span></span>

<span data-ttu-id="76c71-281">Sostituire il codice di *Views/Home/About.cshtml* file con il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="76c71-281">Replace the code in the *Views/Home/About.cshtml* file with the following code:</span></span>

[!code-html[](intro/samples/cu/Pages/About.cshtml)]

<span data-ttu-id="76c71-282">Eseguire l'app e passare alla pagina di informazioni.</span><span class="sxs-lookup"><span data-stu-id="76c71-282">Run the app and navigate to the About page.</span></span> <span data-ttu-id="76c71-283">Il numero di studenti per ogni data di registrazione viene visualizzato in una tabella.</span><span class="sxs-lookup"><span data-stu-id="76c71-283">The count of students for each enrollment date is displayed in a table.</span></span>

<span data-ttu-id="76c71-284">Se si verificano problemi, è possibile risolvere, scaricare il [app completata per questa fase](https://github.com/aspnet/Docs/tree/master/aspnetcore/data/ef-rp/intro/samples/StageSnapShots/cu-part3-sorting).</span><span class="sxs-lookup"><span data-stu-id="76c71-284">If you run into problems you can't solve, download the [completed app for this stage](https://github.com/aspnet/Docs/tree/master/aspnetcore/data/ef-rp/intro/samples/StageSnapShots/cu-part3-sorting).</span></span>

![Informazioni sulla pagina](sort-filter-page/_static/about.png)

## <a name="additional-resources"></a><span data-ttu-id="76c71-286">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="76c71-286">Additional Resources</span></span>

* [<span data-ttu-id="76c71-287">Debug dell'origine ASP.NET Core 2.x</span><span class="sxs-lookup"><span data-stu-id="76c71-287">Debugging ASP.NET Core 2.x source</span></span>](https://github.com/aspnet/Docs/issues/4155)

<span data-ttu-id="76c71-288">Nella prossima esercitazione, l'app Usa le migrazioni per aggiornare il modello di dati.</span><span class="sxs-lookup"><span data-stu-id="76c71-288">In the next tutorial, the app uses migrations to update the data model.</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="76c71-289">[Precedente](xref:data/ef-rp/crud)
[Successivo](xref:data/ef-rp/migrations)</span><span class="sxs-lookup"><span data-stu-id="76c71-289">[Previous](xref:data/ef-rp/crud)
[Next](xref:data/ef-rp/migrations)</span></span>
