---
title: Visualizzazioni parziali
author: ardalis
description: Utilizzo di visualizzazioni parziali in ASP.NET MVC di base
ms.author: riande
manager: wpickett
ms.date: 03/14/2017
ms.topic: article
ms.technology: aspnet
ms.prod: asp.net-core
uid: mvc/views/partial
ms.openlocfilehash: 5919c273de2a298c3e407f118ac478e6a6031332
ms.sourcegitcommit: 060879fcf3f73d2366b5c811986f8695fff65db8
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/24/2018
---
# <a name="partial-views"></a><span data-ttu-id="8681d-103">Visualizzazioni parziali</span><span class="sxs-lookup"><span data-stu-id="8681d-103">Partial Views</span></span>

<span data-ttu-id="8681d-104">Da [Steve Smith](https://ardalis.com/), [Maher JENDOUBI](https://twitter.com/maherjend), e [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="8681d-104">By [Steve Smith](https://ardalis.com/), [Maher JENDOUBI](https://twitter.com/maherjend), and [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

<span data-ttu-id="8681d-105">Componenti di base di ASP.NET MVC supporta le visualizzazioni parziali sono utili quando si dispone di parti riutilizzabili di pagine web che si desidera condividere tra diverse visualizzazioni.</span><span class="sxs-lookup"><span data-stu-id="8681d-105">ASP.NET Core MVC supports partial views, which are useful when you have reusable parts of web pages you want to share between different views.</span></span>

<span data-ttu-id="8681d-106">[Visualizzare o scaricare il codice di esempio](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/views/partial/sample) ([procedura per il download](xref:tutorials/index#how-to-download-a-sample))</span><span class="sxs-lookup"><span data-stu-id="8681d-106">[View or download sample code](https://github.com/aspnet/Docs/tree/master/aspnetcore/mvc/views/partial/sample) ([how to download](xref:tutorials/index#how-to-download-a-sample))</span></span>

## <a name="what-are-partial-views"></a><span data-ttu-id="8681d-107">Quali sono le visualizzazioni parziali?</span><span class="sxs-lookup"><span data-stu-id="8681d-107">What are Partial Views?</span></span>

<span data-ttu-id="8681d-108">Una visualizzazione parziale è una vista che viene eseguito il rendering all'interno di un'altra visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="8681d-108">A partial view is a view that's rendered within another view.</span></span> <span data-ttu-id="8681d-109">L'output HTML generato eseguendo la visualizzazione parziale viene eseguito il rendering nella visualizzazione chiamante (padre o).</span><span class="sxs-lookup"><span data-stu-id="8681d-109">The HTML output generated by executing the partial view is rendered into the calling (or parent) view.</span></span> <span data-ttu-id="8681d-110">Ad esempio viste, utilizzano le visualizzazioni parziali di *. cshtml* estensione di file.</span><span class="sxs-lookup"><span data-stu-id="8681d-110">Like views, partial views use the *.cshtml* file extension.</span></span>

## <a name="when-should-i-use-partial-views"></a><span data-ttu-id="8681d-111">Quando utilizzare le visualizzazioni parziali</span><span class="sxs-lookup"><span data-stu-id="8681d-111">When Should I Use Partial Views?</span></span>

<span data-ttu-id="8681d-112">Le visualizzazioni parziali sono un modo efficace di rilievo delle viste di grandi dimensioni in componenti più piccoli.</span><span class="sxs-lookup"><span data-stu-id="8681d-112">Partial views are an effective way of breaking up large views into smaller components.</span></span> <span data-ttu-id="8681d-113">Possono ridurre la duplicazione di visualizzare il contenuto e consentono di visualizzare gli elementi da riutilizzare.</span><span class="sxs-lookup"><span data-stu-id="8681d-113">They can reduce duplication of view content and allow view elements to be reused.</span></span> <span data-ttu-id="8681d-114">Elementi di layout comuni devono essere specificati nel [layout. cshtml](layout.md).</span><span class="sxs-lookup"><span data-stu-id="8681d-114">Common layout elements should be specified in [_Layout.cshtml](layout.md).</span></span> <span data-ttu-id="8681d-115">Il contenuto riutilizzabile di layout non può essere incapsulato in visualizzazioni parziali.</span><span class="sxs-lookup"><span data-stu-id="8681d-115">Non-layout reusable content can be encapsulated into partial views.</span></span>

<span data-ttu-id="8681d-116">Se si dispone di una pagina complessa composta da più parti logiche, può essere utile lavorare con ogni come visualizzazione parziale.</span><span class="sxs-lookup"><span data-stu-id="8681d-116">If you have a complex page made up of several logical pieces, it can be helpful to work with each piece as its own partial view.</span></span> <span data-ttu-id="8681d-117">Ogni parte della pagina può essere visualizzate separatamente dal resto della pagina e la visualizzazione per la pagina diventa molto più semplice poiché contiene solo la struttura della pagina e le chiamate al rendering di visualizzazioni parziali complessiva.</span><span class="sxs-lookup"><span data-stu-id="8681d-117">Each piece of the page can be viewed in isolation from the rest of the page, and the view for the page itself becomes much simpler since it only contains the overall page structure and calls to render the partial views.</span></span>

<span data-ttu-id="8681d-118">Suggerimento: Seguire la [non ripetere manualmente principio](http://deviq.com/don-t-repeat-yourself/) nelle visualizzazioni.</span><span class="sxs-lookup"><span data-stu-id="8681d-118">Tip: Follow the [Don't Repeat Yourself Principle](http://deviq.com/don-t-repeat-yourself/) in your views.</span></span>

## <a name="declaring-partial-views"></a><span data-ttu-id="8681d-119">Dichiarazione di visualizzazioni parziali</span><span class="sxs-lookup"><span data-stu-id="8681d-119">Declaring Partial Views</span></span>

<span data-ttu-id="8681d-120">Visualizzazioni parziali vengono create come qualsiasi altra visualizzazione: si crea un *. cshtml* file all'interno di *viste* cartella.</span><span class="sxs-lookup"><span data-stu-id="8681d-120">Partial views are created like any other view: you create a *.cshtml* file within the *Views* folder.</span></span> <span data-ttu-id="8681d-121">Non vi è alcuna differenza tra una visualizzazione parziale e una visualizzazione normale semantica: si è appena eseguito il rendering in modo diverso.</span><span class="sxs-lookup"><span data-stu-id="8681d-121">There's no semantic difference between a partial view and a regular view - they're just rendered differently.</span></span> <span data-ttu-id="8681d-122">È possibile creare una visualizzazione che viene restituita direttamente da un controller `ViewResult`, e la stessa vista può essere utilizzata come una visualizzazione parziale.</span><span class="sxs-lookup"><span data-stu-id="8681d-122">You can have a view that's returned directly from a controller's `ViewResult`, and the same view can be used as a partial view.</span></span> <span data-ttu-id="8681d-123">La differenza principale tra le modalità di rendering di una vista e una visualizzazione parziale è che non vengono eseguite le visualizzazioni parziali *viewstart* (mentre viste - altre informazioni, vedere *viewstart* in [Layout ](layout.md)).</span><span class="sxs-lookup"><span data-stu-id="8681d-123">The main difference between how a view and a partial view are rendered is that partial views don't run *_ViewStart.cshtml* (while views do - learn more about *_ViewStart.cshtml* in [Layout](layout.md)).</span></span>

## <a name="referencing-a-partial-view"></a><span data-ttu-id="8681d-124">Riferimento a una visualizzazione parziale</span><span class="sxs-lookup"><span data-stu-id="8681d-124">Referencing a Partial View</span></span>

<span data-ttu-id="8681d-125">All'interno di una pagina di visualizzazione, esistono diversi modi in cui è possibile eseguire il rendering di una visualizzazione parziale.</span><span class="sxs-lookup"><span data-stu-id="8681d-125">From within a view page, there are several ways in which you can render a partial view.</span></span> <span data-ttu-id="8681d-126">La più semplice consiste nell'utilizzare `Html.Partial`, che restituisce un `IHtmlString` e a cui fa riferimento, facendolo precedere la chiamata con `@`:</span><span class="sxs-lookup"><span data-stu-id="8681d-126">The simplest is to use `Html.Partial`, which returns an `IHtmlString` and can be referenced by prefixing the call with `@`:</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=9)]

<span data-ttu-id="8681d-127">Il `PartialAsync` metodo è disponibile per parziale viste contenenti codice asincrono (anche se è in genere sconsigliata codice nelle viste):</span><span class="sxs-lookup"><span data-stu-id="8681d-127">The `PartialAsync` method is available for partial views containing asynchronous code (although code in views is generally discouraged):</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=8)]

<span data-ttu-id="8681d-128">È possibile eseguire il rendering di una visualizzazione parziale con `RenderPartial`.</span><span class="sxs-lookup"><span data-stu-id="8681d-128">You can render a partial view with `RenderPartial`.</span></span> <span data-ttu-id="8681d-129">Questo metodo non restituisce un risultato. il flusso di output del rendering direttamente alla risposta.</span><span class="sxs-lookup"><span data-stu-id="8681d-129">This method doesn't return a result; it streams the rendered output directly to the response.</span></span> <span data-ttu-id="8681d-130">Perché non restituisce un risultato, deve essere chiamato all'interno di un blocco di codice Razor (è anche possibile chiamare `RenderPartialAsync` se necessario):</span><span class="sxs-lookup"><span data-stu-id="8681d-130">Because it doesn't return a result, it must be called within a Razor code block (you can also call `RenderPartialAsync` if necessary):</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Home/About.cshtml?range=10-12)]

<span data-ttu-id="8681d-131">Poiché il flusso direttamente, il risultato `RenderPartial` e `RenderPartialAsync` può offrire prestazioni superiori in alcuni scenari.</span><span class="sxs-lookup"><span data-stu-id="8681d-131">Because it streams the result directly, `RenderPartial` and `RenderPartialAsync` may perform better in some scenarios.</span></span> <span data-ttu-id="8681d-132">Tuttavia, nella maggior parte dei casi, si consiglia di utilizzare `Partial` e `PartialAsync`.</span><span class="sxs-lookup"><span data-stu-id="8681d-132">However, in most cases it's recommended you use `Partial` and `PartialAsync`.</span></span>

> [!NOTE]
> <span data-ttu-id="8681d-133">Se le visualizzazioni necessarie eseguire il codice, il modello consigliato consiste nell'utilizzare un [del componente di visualizzazione](view-components.md) anziché una visualizzazione parziale.</span><span class="sxs-lookup"><span data-stu-id="8681d-133">If your views need to execute code, the recommended pattern is to use a [view component](view-components.md) instead of a partial view.</span></span>

### <a name="partial-view-discovery"></a><span data-ttu-id="8681d-134">Individuazione di visualizzazione parziale</span><span class="sxs-lookup"><span data-stu-id="8681d-134">Partial View Discovery</span></span>

<span data-ttu-id="8681d-135">Quando si fa riferimento a una visualizzazione parziale, è possibile fare riferimento alla posizione in diversi modi:</span><span class="sxs-lookup"><span data-stu-id="8681d-135">When referencing a partial view, you can refer to its location in several ways:</span></span>

```text
// Uses a view in current folder with this name
// If none is found, searches the Shared folder
@Html.Partial("ViewName")

// A view with this name must be in the same folder
@Html.Partial("ViewName.cshtml")

// Locate the view based on the application root
// Paths that start with "/" or "~/" refer to the application root
@Html.Partial("~/Views/Folder/ViewName.cshtml")
@Html.Partial("/Views/Folder/ViewName.cshtml")

// Locate the view using relative paths
@Html.Partial("../Account/LoginPartial.cshtml")
```

<span data-ttu-id="8681d-136">Nelle cartelle di visualizzazione diversa, è possibile avere diverse visualizzazioni parziali con lo stesso nome.</span><span class="sxs-lookup"><span data-stu-id="8681d-136">You can have different partial views with the same name in different view folders.</span></span> <span data-ttu-id="8681d-137">Quando si fa riferimento le viste in base al nome (senza estensione file), le visualizzazioni in ogni cartella utilizzerà la visualizzazione parziale nella stessa cartella con essi.</span><span class="sxs-lookup"><span data-stu-id="8681d-137">When referencing the views by name (without file extension), views in each folder will use the partial view in the same folder with them.</span></span> <span data-ttu-id="8681d-138">È inoltre possibile specificare una visualizzazione parziale predefinito da usare, collocandola nel *Shared* cartella.</span><span class="sxs-lookup"><span data-stu-id="8681d-138">You can also specify a default partial view to use, placing it in the *Shared* folder.</span></span> <span data-ttu-id="8681d-139">La visualizzazione parziale condivisa da utilizzare per le viste che non dispongono di una propria versione della visualizzazione parziale.</span><span class="sxs-lookup"><span data-stu-id="8681d-139">The shared partial view will be used by any views that don't have their own version of the partial view.</span></span> <span data-ttu-id="8681d-140">È possibile creare una visualizzazione parziale predefinito (in *Shared*), che viene sottoposto a override da una visualizzazione parziale con lo stesso nome nella stessa cartella di visualizzazione padre.</span><span class="sxs-lookup"><span data-stu-id="8681d-140">You can have a default partial view (in *Shared*), which is overridden by a partial view with the same name in the same folder as the parent view.</span></span>

<span data-ttu-id="8681d-141">Le visualizzazioni parziali possono essere *concatenate*.</span><span class="sxs-lookup"><span data-stu-id="8681d-141">Partial views can be *chained*.</span></span> <span data-ttu-id="8681d-142">Ovvero una visualizzazione parziale può richiamare un'altra visualizzazione parziale (fino a quando non è possibile creare un ciclo).</span><span class="sxs-lookup"><span data-stu-id="8681d-142">That is, a partial view can call another partial view (as long as you don't create a loop).</span></span> <span data-ttu-id="8681d-143">All'interno di ogni vista o una visualizzazione parziale, i percorsi relativi sono sempre relativi alla visualizzazione visualizzazione, non il principale o padre.</span><span class="sxs-lookup"><span data-stu-id="8681d-143">Within each view or partial view, relative paths are always relative to that view, not the root or parent view.</span></span>

> [!NOTE]
> <span data-ttu-id="8681d-144">Se si dichiara un [Razor](razor.md) `section` in una visualizzazione parziale, non sarà visibile per i relativi elementi padre, è limitata alla visualizzazione parziale.</span><span class="sxs-lookup"><span data-stu-id="8681d-144">If you declare a [Razor](razor.md) `section` in a partial view, it will not be visible to its parent(s); it will be limited to the partial view.</span></span>

## <a name="accessing-data-from-partial-views"></a><span data-ttu-id="8681d-145">Accesso ai dati da visualizzazioni parziali</span><span class="sxs-lookup"><span data-stu-id="8681d-145">Accessing Data From Partial Views</span></span>

<span data-ttu-id="8681d-146">Quando viene creata un'istanza di una visualizzazione parziale, ottiene una copia della visualizzazione padre `ViewData` dizionario.</span><span class="sxs-lookup"><span data-stu-id="8681d-146">When a partial view is instantiated, it gets a copy of the parent view's `ViewData` dictionary.</span></span> <span data-ttu-id="8681d-147">Gli aggiornamenti apportati ai dati all'interno della visualizzazione parziale non vengono mantenuti per la visualizzazione padre.</span><span class="sxs-lookup"><span data-stu-id="8681d-147">Updates made to the data within the partial view are not persisted to the parent view.</span></span> <span data-ttu-id="8681d-148">`ViewData`modificato in un elemento parziale vista viene persa quando restituisce la visualizzazione parziale.</span><span class="sxs-lookup"><span data-stu-id="8681d-148">`ViewData` changed in a partial view is lost when the partial view returns.</span></span>

<span data-ttu-id="8681d-149">È possibile passare un'istanza di `ViewDataDictionary` della visualizzazione parziale:</span><span class="sxs-lookup"><span data-stu-id="8681d-149">You can pass an instance of `ViewDataDictionary` to the partial view:</span></span>

```csharp
@Html.Partial("PartialName", customViewData)
   ```

<span data-ttu-id="8681d-150">È inoltre possibile passare un modello in una visualizzazione parziale.</span><span class="sxs-lookup"><span data-stu-id="8681d-150">You can also pass a model into a partial view.</span></span> <span data-ttu-id="8681d-151">Può trattarsi di modello di visualizzazione della pagina, o una parte di esso o un oggetto personalizzato.</span><span class="sxs-lookup"><span data-stu-id="8681d-151">This can be the page's view model, or some portion of it, or a custom object.</span></span> <span data-ttu-id="8681d-152">È possibile passare un modello per `Partial`,`PartialAsync`, `RenderPartial`, o `RenderPartialAsync`:</span><span class="sxs-lookup"><span data-stu-id="8681d-152">You can pass a model to `Partial`,`PartialAsync`, `RenderPartial`, or `RenderPartialAsync`:</span></span>

```csharp
@Html.Partial("PartialName", viewModel)
   ```

<span data-ttu-id="8681d-153">È possibile passare un'istanza di `ViewDataDictionary` e un modello di visualizzazione per una visualizzazione parziale:</span><span class="sxs-lookup"><span data-stu-id="8681d-153">You can pass an instance of `ViewDataDictionary` and a view model to a partial view:</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml?range=15-16)]

<span data-ttu-id="8681d-154">Il markup seguente viene illustrato il *Views/Articles/Read.cshtml* vista che contiene due visualizzazioni parziali.</span><span class="sxs-lookup"><span data-stu-id="8681d-154">The markup below shows the *Views/Articles/Read.cshtml* view which contains two partial views.</span></span> <span data-ttu-id="8681d-155">La visualizzazione parziale secondo passa in un modello e `ViewData` della visualizzazione parziale.</span><span class="sxs-lookup"><span data-stu-id="8681d-155">The second partial view passes in a model and `ViewData` to the partial view.</span></span> <span data-ttu-id="8681d-156">È possibile passare a nuovi `ViewData` dizionario mantenendo esistente `ViewData` se si utilizza l'overload del costruttore del `ViewDataDictionary` evidenziato di seguito:</span><span class="sxs-lookup"><span data-stu-id="8681d-156">You can pass new `ViewData` dictionary while retaining the existing `ViewData` if you use the constructor overload of the `ViewDataDictionary` highlighted below:</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Articles/Read.cshtml)]

<span data-ttu-id="8681d-157">*Viste, condivisi/AuthorPartial*:</span><span class="sxs-lookup"><span data-stu-id="8681d-157">*Views/Shared/AuthorPartial*:</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Shared/AuthorPartial.cshtml)]

<span data-ttu-id="8681d-158">Il *ArticleSection* parziale:</span><span class="sxs-lookup"><span data-stu-id="8681d-158">The *ArticleSection* partial:</span></span>

[!code-html[Main](partial/sample/src/PartialViewsSample/Views/Articles/ArticleSection.cshtml)]

<span data-ttu-id="8681d-159">In fase di esecuzione, i parziali vengono sottoposti a rendering nella visualizzazione padre, che a sua volta viene eseguito il rendering all'interno di condiviso *layout. cshtml*</span><span class="sxs-lookup"><span data-stu-id="8681d-159">At runtime, the partials are rendered into the parent view, which itself is rendered within the shared *_Layout.cshtml*</span></span>

![output di visualizzazione parziale](partial/_static/output.png)
